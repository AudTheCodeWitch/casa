<div class="title-wrapper pt-30">
  <div class="row align-items-center">
      <div class="title mb-30">
        <h1>Case Contacts</h1>
      </div>
  </div>
</div>

<div class="card-style mb-30">
  <div class="table-wrapper">
    <table
      id="case_contacts"
      class="table"
      data-source="<%= datatable_case_contacts_path format: :json %>">
      <thead>
      <tr>
        <th></th>
        <th><h6>Date</h6></th>
        <th><h6>Case</h6></th>
        <th><h6>Relationship</h6></th>
        <th><h6>Medium</h6></th>
        <th><h6>Created By</h6></th>
        <th><h6>Contacted</h6></th>
        <th><h6>Topics</h6></th>
        <th><h6>Draft</h6></th>
      </tr>
      <!-- end table row-->
      </thead>
      <tbody>
        <% @presenter.case_contacts.each do |casa_case_id, case_contacts| %>
          <% case_contacts.each do |case_contact| %>
            <tr>
              <td>
                <i class='fas fa-bell'></i>
                <i class="fa-solid fa-chevron-down"></i>
              </td>
              <td>
                <%= I18n.l(case_contact[:occurred_at], format: :full) %>
              </td>
              <td>
                <%= @presenter.display_case_number(casa_case_id) %>
              </td>
              <td>
                <%= case_contact.decorate.contact_types_comma_separated %>
              </td>
              <td>
                <%= case_contact.medium_type.capitalize %>
              </td>
            </tr>
          <% end %>
        <% end %>
      </tbody>
    </table>
    <!-- end table -->
  </div>
</div>